<refentry xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="rm">

  <refmeta>
    <refentrytitle>RM</refentrytitle>
    <manvolnum>nged</manvolnum>
    <refmiscinfo class="source">BRL-CAD</refmiscinfo>
    <refmiscinfo class="manual">BRL-CAD User Commands</refmiscinfo>
  </refmeta>

  <refnamediv xml:id="name">
    <refname>rm</refname>
    <refpurpose>Removes/deletes objects from comb definitions and/or the database.</refpurpose>
  </refnamediv>

  <!-- body begins here -->
  <refsynopsisdiv xml:id="synopsis">
    <cmdsynopsis sepchar=" ">
      <command>rm</command>
      <arg choice="opt" rep="repeat"><replaceable>options</replaceable></arg>
      <arg choice="opt" rep="norepeat"><replaceable>comb</replaceable></arg>
      <arg choice="req" rep="repeat"><replaceable>paths</replaceable></arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsection xml:id="description"><title>DESCRIPTION</title>
    <para>
      Deletes all occurrences of the listed paths from the specified
      <emphasis>combination</emphasis> (if comb is specified and no options
      override default behavior) or from the global database if no comb is
      specified or flags override the default behavior.  Paths may be object
      names or local path specifiers - see below.
    </para>
    </refsection>

  <refsection xml:id="search_options"><title>OPTIONS</title>

    <variablelist remap="TP">
      <varlistentry>
	<term><emphasis remap="B" role="bold">-f</emphasis></term>
	<term><emphasis remap="B" role="bold">--force</emphasis></term>
	<listitem>
	  <para>
	    Rather than interpreting the first non-option argument as a
	    combination context, treat it as another object even if the object
	    name does specify a comb.  This means all objects specified in the
	    paths list will be removed from the database.  Also impacts
	    a recursive removal - see "-r".
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><emphasis remap="B" role="bold">-F</emphasis></term>
	<term><emphasis remap="B" role="bold">--force-refs</emphasis></term>
	<listitem>
	  <para>
	    Like "-f", but also removes references to objects being removed from
	    elsewhere in the database rather than simply removing the objects
	    themselves.  Useful to avoid "dangling references" to objects no
	    longer present.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><emphasis remap="B" role="bold">-r</emphasis></term>
	<term><emphasis remap="B" role="bold">--recursive</emphasis></term>
	<listitem>
	  <para>
	    Recursively delete objects in combination objects specified in the
	    paths list.  If neither of the forcing options are enabled, do the
	    deletions while checking to see if objects in the combination
	    tree in question are used in other hierarchies in the .g file. Any
	    objects in use elsewhere will be skipped.
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>

  </refsection>

  <refsection xml:id="paths"><title>PATHS:</title>
    <para>
      Paths in the <command>rm</command> command may take one of two forms: a
      single object name, or a one-deep path of the form: parent/obj. If the path
      specifier is of the latter form, then obj is removed not from the global
      database but from the parent in question.  Note that path entries of this
      form will not be incorporated into recursive deletion requests, since the
      specification of a specific comb implies local behavior.
    </para>
    <para>
      Note that an in-path comb specification will override the command level
      specification of a <emphasis>comb</emphasis> for that one path, but other
      objects listed in path will still be removed from
      <emphasis>comb</emphasis> unless option flags specify other behavior.
    </para>
  </refsection>


  <refsection xml:id="examples"><title>EXAMPLES</title>
     <para>The example shows the use of the <command>rm</command> command to delete all occurrences 	of specified members of a given combination.
    </para>

    <example><title>Delete members of a given combination.</title>

      <para>
	<prompt>mged&gt;</prompt><userinput>rm group1 regiona</userinput>
      </para>
      <para>Deletes <emphasis>regiona</emphasis> from <emphasis>group1</emphasis>.

      </para>
    </example>

    <example><title>Delete all objects referenced by a combination.</title>

      <para>
	<prompt>mged&gt;</prompt><userinput>rm -r regiona</userinput>
      </para>
      <para>Deletes <emphasis>regiona</emphasis> and any objects below <emphasis>regiona</emphasis> in its hierarchy.

      </para>
    </example>
  </refsection>

  <refsection xml:id="see_also"><title>SEE ALSO</title>
    <para>
      <citerefentry><refentrytitle>red</refentrytitle><manvolnum>nged</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>r</refentrytitle><manvolnum>nged</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>comb</refentrytitle><manvolnum>nged</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>c</refentrytitle><manvolnum>nged</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>g</refentrytitle><manvolnum>nged</manvolnum></citerefentry>,
    </para>
  </refsection>

  <refsection xml:id="author"><title>AUTHOR</title><para>BRL-CAD Team</para></refsection>

  <refsection xml:id="bug_reports"><title>BUG REPORTS</title>

    <para>
      Reports of bugs or problems should be submitted via electronic
      mail to &lt;devs@brlcad.org&gt;, or via the "cadbug.sh" script.
    </para>
  </refsection>
</refentry>

<!-- vim: set shiftwidth=2 : -->
